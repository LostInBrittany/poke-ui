!function(b){"use strict";function d(){function b(a){var c=this;return c instanceof b?(a instanceof b?(c.s=a.s,c.e=a.e,c.c=a.c.slice()):k(c,a),void(c.constructor=b)):void 0===a?d():new b(a)}return b.prototype=a,b.DP=i,b.RM=c,b.E_NEG=m,b.E_POS=l,b}function j(a,b,c){var d=a.constructor,e=b-(a=new d(a)).e,f=a.c;for(f.length>++b&&q(a,e,d.RM),f[0]?c?e=b:(f=a.c,e=a.e+e+1):++e;f.length<e;f.push(0));return e=a.e,1===c||c&&(e>=b||e<=d.E_NEG)?(0>a.s&&f[0]?"-":"")+(1<f.length?f[0]+"."+f.join("").slice(1):f[0])+(0>e?"e":"e+")+e:a.toString()}function k(a,b){var c,d,e;for(0===b&&0>1/b?b="-0":g.test(b+="")||x(NaN),a.s="-"==b.charAt(0)?(b=b.slice(1),-1):1,-1<(c=b.indexOf("."))&&(b=b.replace(".","")),0<(d=b.search(/e/i))?(0>c&&(c=d),c+=+b.slice(d+1),b=b.substring(0,d)):0>c&&(c=b.length),e=b.length,d=0;e>d&&"0"==b.charAt(d);d++);if(d==e)a.c=[a.e=0];else{for(;0<e&&"0"==b.charAt(--e););for(a.e=c-d-1,a.c=[];e>=d;a.c.push(+b.charAt(d++)));}return a}function q(a,b,d,e){var f,g=a.c,h=a.e+b+1;if(1===d?e=5<=g[h]:2===d?e=5<g[h]||5==g[h]&&(e||0>h||g[h+1]!==f||1&g[h-1]):3===d?e=e||g[h]!==f||0>h:(e=!1,0!==d&&x("!Big.RM!")),1>h||!g[0])e?(a.e=-b,a.c=[1]):a.c=[a.e=0];else{if(g.length=h--,e)for(;9<++g[h];)g[h]=0,h--||(++a.e,g.unshift(1));for(h=g.length;!g[--h];g.pop());}return a}function x(a){var b=new Error(a);throw b.name="BigError",b}var e,i=20,c=1,s=1e6,f=1e6,m=-7,l=21,a={},g=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;a.abs=function(){var a=new this.constructor(this);return a.s=1,a},a.cmp=function(a){var b,d=this,e=d.c,f=(a=new d.constructor(a)).c,g=d.s,h=a.s,i=d.e,c=a.e;if(!e[0]||!f[0])return e[0]?g:f[0]?-h:0;if(g!=h)return g;if(b=0>g,i!=c)return i>c^b?1:-1;for(g=-1,h=(i=e.length)<(c=f.length)?i:c;++g<h;)if(e[g]!=f[g])return e[g]>f[g]^b?1:-1;return i==c?0:i>c^b?1:-1},a.div=function(b){var e=this,f=e.constructor,i=e.c,j=(b=new f(b)).c,k=e.s==b.s?1:-1,c=f.DP;if((c!==~~c||0>c||c>s)&&x("!Big.DP!"),!i[0]||!j[0])return i[0]==j[0]&&x(NaN),j[0]||x(k/0),new f(0*k);var n,h,l,a,g,o,p=j.slice(),d=n=j.length,r=i.length,m=i.slice(0,n),t=m.length,v=b,w=v.c=[],y=0,z=c+(v.e=e.e-b.e)+1;for(v.s=k,k=0>z?0:z,p.unshift(0);t++<n;m.push(0));do{for(l=0;10>l;l++){if(n!=(t=m.length))a=n>t?1:-1;else for(g=-1,a=0;++g<n;)if(j[g]!=m[g]){a=j[g]>m[g]?1:-1;break}if(!(0>a))break;for(h=t==n?j:p;t;){if(m[--t]<h[t]){for(g=t;g&&!m[--g];m[g]=9);--m[g],m[t]+=10}m[t]-=h[t]}for(;!m[0];m.shift());}w[y++]=a?l:++l,m[0]&&a?m[t]=i[d]||0:m=[i[d]]}while((d++<r||m[0]!==o)&&k--);return w[0]||1==y||(w.shift(),v.e--),y>z&&q(v,c,f.RM,m[0]!==o),v},a.eq=function(a){return!this.cmp(a)},a.gt=function(a){return 0<this.cmp(a)},a.gte=function(a){return-1<this.cmp(a)},a.lt=function(a){return 0>this.cmp(a)},a.lte=function(a){return 1>this.cmp(a)},a.sub=a.minus=function(b){var d,e,g,j,i=this,k=i.constructor,m=i.s,n=(b=new k(b)).s;if(m!=n)return b.s=-n,i.plus(b);var o=i.c.slice(),f=i.e,h=b.c,l=b.e;if(!o[0]||!h[0])return h[0]?(b.s=-n,b):new k(o[0]?i:0);if(m=f-l){for((j=0>m)?(m=-m,g=o):(l=f,g=h),g.reverse(),n=m;n--;g.push(0));g.reverse()}else for(e=((j=o.length<h.length)?o:h).length,m=n=0;e>n;n++)if(o[n]!=h[n]){j=o[n]<h[n];break}if(j&&(g=o,o=h,h=g,b.s=-b.s),0<(n=(e=h.length)-(d=o.length)))for(;n--;o[d++]=0);for(n=d;e>m;){if(o[--e]<h[e]){for(d=e;d&&!o[--d];o[d]=9);--o[d],o[e]+=10}o[e]-=h[e]}for(;0===o[--n];o.pop());for(;0===o[0];)o.shift(),--l;return o[0]||(b.s=1,o=[l=0]),b.c=o,b.e=l,b},a.mod=function(a){var b,c=this,d=c.constructor,e=c.s,f=(a=new d(a)).s;return a.c[0]||x(NaN),c.s=a.s=1,b=1==a.cmp(c),c.s=e,a.s=f,b?new d(c):(e=d.DP,f=d.RM,d.DP=d.RM=0,c=c.div(a),d.DP=e,d.RM=f,this.minus(c.times(a)))},a.add=a.plus=function(a){var b,d=this,e=d.constructor,g=d.s,h=(a=new e(a)).s;if(g!=h)return a.s=-h,d.minus(a);var j=d.e,k=d.c,c=a.e,l=a.c;if(!k[0]||!l[0])return l[0]?a:new e(k[0]?d:0*g);if(k=k.slice(),g=j-c){for(0<g?(c=j,b=l):(g=-g,b=k),b.reverse();g--;b.push(0));b.reverse()}for(0>k.length-l.length&&(b=l,l=k,k=b),g=l.length,h=0;g;)h=0|(k[--g]=k[g]+l[g]+h)/10,k[g]%=10;for(h&&(k.unshift(h),++c),g=k.length;0===k[--g];k.pop());return a.c=k,a.e=c,a},a.pow=function(a){var b=this,c=new b.constructor(1),d=c,g=0>a;for((a!==~~a||-f>a||a>f)&&x("!pow!"),a=g?-a:a;1&a&&(d=d.times(b)),a>>=1,a;)b=b.times(b);return g?c.div(d):d},a.round=function(a,b){var c=this,d=c.constructor;return null==a?a=0:(a!==~~a||0>a||a>s)&&x("!round!"),q(c=new d(c),a,null==b?d.RM:b),c},a.sqrt=function(){var a,b,d,e=Math.sqrt,g=this,i=g.constructor,j=g.c,c=g.s,k=g.e,f=new i("0.5");if(!j[0])return new i(g);0>c&&x(NaN),c=e(g.toString()),0===c||c===1/0?(a=j.join(""),1&a.length+k||(a+="0"),b=new i(e(a).toString()),b.e=(0|(k+1)/2)-(0>k||1&k)):b=new i(c.toString()),c=b.e+(i.DP+=4);do d=b,b=f.times(d.plus(g.div(d)));while(d.c.slice(0,c).join("")!==b.c.slice(0,c).join(""));return q(b,i.DP-=4,i.RM),b},a.mul=a.times=function(a){var b,d=this,e=d.constructor,g=d.c,h=(a=new e(a)).c,i=g.length,j=h.length,c=d.e,k=a.e;if(a.s=d.s==a.s?1:-1,!g[0]||!h[0])return new e(0*a.s);for(a.e=c+k,j>i&&(b=g,g=h,h=b,k=i,i=j,j=k),b=Array(k=i+j);k--;b[k]=0);for(c=j;c--;){for(j=0,k=i+c;k>c;)j=b[k]+h[c]*g[k-c-1]+j,b[k--]=j%10,j=0|j/10;b[k]=(b[k]+j)%10}for(j&&++a.e,b[0]||b.shift(),c=b.length;!b[--c];b.pop());return a.c=b,a},a.toString=a.valueOf=a.toJSON=function(){var a=this,b=a.constructor,c=a.e,d=a.c.join(""),e=d.length;if(c<=b.E_NEG||c>=b.E_POS)d=d.charAt(0)+(1<e?"."+d.slice(1):"")+(0>c?"e":"e+")+c;else if(0>c){for(;++c;d="0"+d);d="0."+d}else if(!(0<c))1<e&&(d=d.charAt(0)+"."+d.slice(1));else if(++c>e)for(c-=e;c--;d+="0");else e>c&&(d=d.slice(0,c)+"."+d.slice(c));return 0>a.s&&a.c[0]?"-"+d:d},a.toExponential=function(a){return null==a?a=this.c.length-1:(a!==~~a||0>a||a>s)&&x("!toExp!"),j(this,a,1)},a.toFixed=function(a){var b,d=this,f=d.constructor,g=f.E_NEG,h=f.E_POS;return f.E_NEG=-(f.E_POS=1/0),null==a?b=d.toString():a===~~a&&0<=a&&s>=a&&(b=j(d,d.e+a),0>d.s&&d.c[0]&&0>b.indexOf("-")&&(b="-"+b)),f.E_NEG=g,f.E_POS=h,b||x("!toFix!"),b},a.toPrecision=function(a){return null==a?this.toString():((a!==~~a||1>a||a>s)&&x("!toPre!"),j(this,a-1,2))},e=d(),"function"==typeof define&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e,module.exports.Big=e):b.Big=e}(this);